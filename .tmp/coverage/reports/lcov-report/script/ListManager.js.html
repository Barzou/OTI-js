<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for script/ListManager.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../prettify.css">
    <link rel="stylesheet" href="../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header low">
    <h1>Code coverage report for <span class="entity">script/ListManager.js</span></h1>
    <h2>
        Statements: <span class="metric">5.36% <small>(3 / 56)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">0% <small>(0 / 32)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">12.5% <small>(1 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">5.36% <small>(3 / 56)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">script/</a> &#187; ListManager.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">function ListManager() {
    'use strict';
    this.lists = [];
}
&nbsp;
ListManager.prototype = {
    /*Ajoute la nouvelle liste list en détectant les listes ayant le même nom.
     *Ex: S'il y a déjà une liste qui porte le même nom alors celle-ci apparaitra avec "(2)" à côté de son nom, "(3)" s'il y en a 2 etc...
     */
    createList: <span class="fstat-no" title="function not covered" >function (list) {</span>
        'use strict';
<span class="cstat-no" title="statement not covered" >        var i = this.getListName(list, 0),</span>
            j = 0;
<span class="cstat-no" title="statement not covered" >        while (i !== -1 &amp;&amp; i &lt; this.lists.length) {</span>
<span class="cstat-no" title="statement not covered" >            console.log(i);</span>
<span class="cstat-no" title="statement not covered" >            i++;</span>
<span class="cstat-no" title="statement not covered" >            i = this.getListName(list, i);</span>
<span class="cstat-no" title="statement not covered" >            j++;</span>
        }
        //Si il existe déjà une liste avec le même nom, on ajoute un numéro indiquant le nombre de listes avec le même nom déjà présentes
<span class="cstat-no" title="statement not covered" >        list.notAlone = j;</span>
        //        var lg = this.lists.length;
        //        return this.lists.push(list) === (lg + 1);
<span class="cstat-no" title="statement not covered" >        this.lists.push(list);</span>
<span class="cstat-no" title="statement not covered" >        return true;</span>
    },
&nbsp;
    /*PErmet de rechercher une liste pourtant le même nom.
     *Il est possible de rechercher cette liste à partir d'un indice à passer en 2ème param. .
     */
    getListName: <span class="fstat-no" title="function not covered" >function (list) {</span>
        //Chercher à partir d'un indice aux dans le tableau de List
<span class="cstat-no" title="statement not covered" >        var aux = arguments[1] !== undefined ? arguments[1] : 0;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        for (var i = aux; i &lt; this.lists.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            var l = this.lists[i];</span>
<span class="cstat-no" title="statement not covered" >            if (l.getName() === list.getName() &amp;&amp; l.getId() !== list.getId())</span>
<span class="cstat-no" title="statement not covered" >                return i;</span>
        }
<span class="cstat-no" title="statement not covered" >        return -1;</span>
    },
&nbsp;
    /*Retourne la position de la liste list dans le tableau this.lists.
     *Le param. peut être un objet List ou un identifiant.
     *@return la position de la liste, -1 si la liste n'est pas répertoriée.
     */
    getListPosition: <span class="fstat-no" title="function not covered" >function (list) {</span>
        'use strict';
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (typeof list === "object") {</span>
            //Chercher à partir d'un indice aux dans la liste des listes
<span class="cstat-no" title="statement not covered" >            var aux = arguments[1] !== undefined ? arguments[1] : 0;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            for (var i = aux; this.lists.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >                var l = this.lists[i];</span>
<span class="cstat-no" title="statement not covered" >                if (l.equals(list))</span>
<span class="cstat-no" title="statement not covered" >                    return i;</span>
            }
<span class="cstat-no" title="statement not covered" >            return -1;</span>
&nbsp;
        } else <span class="cstat-no" title="statement not covered" >if (typeof list === "string") {</span>
<span class="cstat-no" title="statement not covered" >            for ( i = 0; this.lists.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >                 l = this.lists[i];</span>
<span class="cstat-no" title="statement not covered" >                if (l.getId() === list)</span>
<span class="cstat-no" title="statement not covered" >                    return i;</span>
            }
<span class="cstat-no" title="statement not covered" >            return -1;</span>
        }
    },
&nbsp;
    /*Retourne l'objet List dans le tableau de liste.
     *@param list: un objet List ou un identifiant.
     */
    getList: <span class="fstat-no" title="function not covered" >function (list) {</span>
<span class="cstat-no" title="statement not covered" >        if (typeof list === "object") {</span>
            //Chercher à partir d'un indice aux dans la liste des listes
&nbsp;
<span class="cstat-no" title="statement not covered" >            for (var i = 0; i &lt; this.lists.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >                var l = this.lists[i];</span>
<span class="cstat-no" title="statement not covered" >                if (l.equals(list))</span>
<span class="cstat-no" title="statement not covered" >                    return l;</span>
            }
<span class="cstat-no" title="statement not covered" >            return undefined;</span>
&nbsp;
        } else <span class="cstat-no" title="statement not covered" >if (typeof list === "string") { //l'id de la liste</span>
<span class="cstat-no" title="statement not covered" >            for (var i = 0; this.lists.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >                var l = this.lists[i];</span>
<span class="cstat-no" title="statement not covered" >                if (l.getId() === list)</span>
<span class="cstat-no" title="statement not covered" >                    return l;</span>
            }
<span class="cstat-no" title="statement not covered" >            return undefined;</span>
        }
    },
&nbsp;
    /*Supprime la liste passée en param. (objet ou identifiant).
     *@param list: un objet List ou un identifiant.
     *@return la liste supprimée ou undefined si la liste n'est répertoriée.
     */
    deleteList: <span class="fstat-no" title="function not covered" >function (list) {</span>
<span class="cstat-no" title="statement not covered" >        var i = this.getListPosition(list);</span>
<span class="cstat-no" title="statement not covered" >        if (i &gt; -1) {</span>
<span class="cstat-no" title="statement not covered" >            return this.lists.splice(i, 1);</span>
        }
<span class="cstat-no" title="statement not covered" >        return undefined;</span>
    },
&nbsp;
    /*Remplace la liste ayant le même identifiant dans this.lists par celle passée en param. .
     *@param list: un objet List ou un identifiant.
     *@return la nouvelle liste, undefined si la liste n'est pas répertoriée.
     */
    updateList: <span class="fstat-no" title="function not covered" >function (list) {</span>
<span class="cstat-no" title="statement not covered" >        var i = this.getListPosition(list);</span>
<span class="cstat-no" title="statement not covered" >        if (i &gt; -1) {</span>
<span class="cstat-no" title="statement not covered" >            this.lists.splice(i, 1, list);</span>
<span class="cstat-no" title="statement not covered" >            return list;</span>
        }
<span class="cstat-no" title="statement not covered" >        return undefined;</span>
    },
&nbsp;
    /*Retourne true si la liste list est partagée avec l'utilisateur user.
     *
     */
    isSharedWith: <span class="fstat-no" title="function not covered" >function (list, user) {</span>
<span class="cstat-no" title="statement not covered" >        var i = this.getListPosition(list);</span>
<span class="cstat-no" title="statement not covered" >        if (i &gt; -1) {</span>
<span class="cstat-no" title="statement not covered" >            return this.lists[i].isSharedWith(user);</span>
        }
<span class="cstat-no" title="statement not covered" >        return false;</span>
    }
};
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Thu Dec 10 2015 16:43:49 GMT+0100 (CET)</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
