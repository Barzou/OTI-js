
var __cov_6bOdnrcR_kb27OKIqoPH4g = (Function('return this'))();
if (!__cov_6bOdnrcR_kb27OKIqoPH4g.__coverage__) { __cov_6bOdnrcR_kb27OKIqoPH4g.__coverage__ = {}; }
__cov_6bOdnrcR_kb27OKIqoPH4g = __cov_6bOdnrcR_kb27OKIqoPH4g.__coverage__;
if (!(__cov_6bOdnrcR_kb27OKIqoPH4g['media/script/MessageManager.js'])) {
   __cov_6bOdnrcR_kb27OKIqoPH4g['media/script/MessageManager.js'] = {"path":"media/script/MessageManager.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"b":{"1":[0,0],"2":[0,0,0,0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"MessageManager","line":1,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":26}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":33}}},"3":{"name":"(anonymous_3)","line":19,"loc":{"start":{"line":19,"column":13},"end":{"line":19,"column":25}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":16},"end":{"line":25,"column":32}}},"5":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":19},"end":{"line":32,"column":35}}},"6":{"name":"(anonymous_6)","line":39,"loc":{"start":{"line":39,"column":19},"end":{"line":39,"column":35}}},"7":{"name":"(anonymous_7)","line":46,"loc":{"start":{"line":46,"column":13},"end":{"line":46,"column":23}}},"8":{"name":"(anonymous_8)","line":53,"loc":{"start":{"line":53,"column":17},"end":{"line":53,"column":33}}},"9":{"name":"(anonymous_9)","line":63,"loc":{"start":{"line":63,"column":21},"end":{"line":63,"column":36}}},"10":{"name":"(anonymous_10)","line":73,"loc":{"start":{"line":73,"column":22},"end":{"line":73,"column":40}}},"11":{"name":"(anonymous_11)","line":109,"loc":{"start":{"line":109,"column":22},"end":{"line":109,"column":40}}},"12":{"name":"(anonymous_12)","line":121,"loc":{"start":{"line":121,"column":24},"end":{"line":121,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":1}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":937}},"3":{"start":{"line":11,"column":0},"end":{"line":124,"column":2}},"4":{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},"5":{"start":{"line":26,"column":8},"end":{"line":29,"column":9}},"6":{"start":{"line":33,"column":8},"end":{"line":36,"column":9}},"7":{"start":{"line":40,"column":8},"end":{"line":43,"column":9}},"8":{"start":{"line":47,"column":8},"end":{"line":50,"column":9}},"9":{"start":{"line":54,"column":8},"end":{"line":57,"column":9}},"10":{"start":{"line":64,"column":8},"end":{"line":66,"column":9}},"11":{"start":{"line":65,"column":12},"end":{"line":65,"column":24}},"12":{"start":{"line":67,"column":8},"end":{"line":67,"column":21}},"13":{"start":{"line":75,"column":8},"end":{"line":76,"column":28}},"14":{"start":{"line":79,"column":8},"end":{"line":79,"column":66}},"15":{"start":{"line":81,"column":8},"end":{"line":81,"column":49}},"16":{"start":{"line":84,"column":8},"end":{"line":84,"column":28}},"17":{"start":{"line":86,"column":8},"end":{"line":86,"column":50}},"18":{"start":{"line":88,"column":8},"end":{"line":92,"column":9}},"19":{"start":{"line":89,"column":12},"end":{"line":89,"column":64}},"20":{"start":{"line":90,"column":12},"end":{"line":90,"column":28}},"21":{"start":{"line":91,"column":12},"end":{"line":91,"column":35}},"22":{"start":{"line":94,"column":8},"end":{"line":97,"column":9}},"23":{"start":{"line":95,"column":12},"end":{"line":95,"column":39}},"24":{"start":{"line":96,"column":12},"end":{"line":96,"column":31}},"25":{"start":{"line":99,"column":8},"end":{"line":99,"column":46}},"26":{"start":{"line":101,"column":8},"end":{"line":101,"column":40}},"27":{"start":{"line":103,"column":8},"end":{"line":103,"column":20}},"28":{"start":{"line":110,"column":8},"end":{"line":110,"column":55}},"29":{"start":{"line":111,"column":8},"end":{"line":111,"column":33}},"30":{"start":{"line":112,"column":8},"end":{"line":112,"column":25}},"31":{"start":{"line":113,"column":8},"end":{"line":113,"column":17}}},"branchMap":{"1":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":8}},{"start":{"line":64,"column":8},"end":{"line":64,"column":8}}]},"2":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":14},"end":{"line":64,"column":22}},{"start":{"line":64,"column":26},"end":{"line":64,"column":36}},{"start":{"line":64,"column":40},"end":{"line":64,"column":50}},{"start":{"line":64,"column":54},"end":{"line":64,"column":64}},{"start":{"line":64,"column":69},"end":{"line":64,"column":77}},{"start":{"line":64,"column":82},"end":{"line":64,"column":90}}]}}};
}
__cov_6bOdnrcR_kb27OKIqoPH4g = __cov_6bOdnrcR_kb27OKIqoPH4g['media/script/MessageManager.js'];
function MessageManager(){__cov_6bOdnrcR_kb27OKIqoPH4g.f['1']++;__cov_6bOdnrcR_kb27OKIqoPH4g.s['2']++;this.doc='La classe MessageCreator permet de créer les messages de créer ou de modifications de liste au format convenant avant de l\'envoyer avec la méthode sendMessage de Cobra.\n'+'La partie "content", de ce message, contiendra un objet contenant ayant pour clés:\n'+'- la clé key_user: le nom de la personne qui a posté la liste, il ne contiendra que des caractères alphanumériques\n'+'- la clé key_title: le titre, nom de la liste (ne contiendra que des lettres)\n'+'- la clé description: contenant une description de la liste (contiendra tous les caractères possibles)\n'+'- la clé products: contenant un tableau de produits (tableau de chaines de caractères ne contenant que des lettres).\n\n'+'Chaque valeur associée aux différentes clés sera précédée d\'un nombre permettant d\'obtenir le nombre de carctères qui composent la valeur, si elle était une chaine de caractères, afin de faciliter son extraction.\n';}__cov_6bOdnrcR_kb27OKIqoPH4g.s['3']++;MessageManager.prototype={initialize:function(events){__cov_6bOdnrcR_kb27OKIqoPH4g.f['2']++;},joinMsg:function(){__cov_6bOdnrcR_kb27OKIqoPH4g.f['3']++;__cov_6bOdnrcR_kb27OKIqoPH4g.s['4']++;return{join:Tools.me.forJSON()};},newListMsg:function(list){__cov_6bOdnrcR_kb27OKIqoPH4g.f['4']++;__cov_6bOdnrcR_kb27OKIqoPH4g.s['5']++;return{create:list.forJSON(),user:Tools.me.forJSON()};},updateListMsg:function(list){__cov_6bOdnrcR_kb27OKIqoPH4g.f['5']++;__cov_6bOdnrcR_kb27OKIqoPH4g.s['6']++;return{update:list.forJSON(),user:Tools.me.forJSON()};},deleteListMsg:function(list){__cov_6bOdnrcR_kb27OKIqoPH4g.f['6']++;__cov_6bOdnrcR_kb27OKIqoPH4g.s['7']++;return{delete:list.forJSON(),user:Tools.me.forJSON()};},leftMsg:function(){__cov_6bOdnrcR_kb27OKIqoPH4g.f['7']++;__cov_6bOdnrcR_kb27OKIqoPH4g.s['8']++;return{left:Tools.me,lists:Tools.me.lists};},editListMsg:function(list){__cov_6bOdnrcR_kb27OKIqoPH4g.f['8']++;__cov_6bOdnrcR_kb27OKIqoPH4g.s['9']++;return{edit:list.forJSON(),user:Tools.me.forJSON()};},validateMessage:function(msg){__cov_6bOdnrcR_kb27OKIqoPH4g.f['9']++;__cov_6bOdnrcR_kb27OKIqoPH4g.s['10']++;if(((__cov_6bOdnrcR_kb27OKIqoPH4g.b['2'][0]++,msg.edit)||(__cov_6bOdnrcR_kb27OKIqoPH4g.b['2'][1]++,msg.update)||(__cov_6bOdnrcR_kb27OKIqoPH4g.b['2'][2]++,msg.delete)||(__cov_6bOdnrcR_kb27OKIqoPH4g.b['2'][3]++,msg.create))&&(__cov_6bOdnrcR_kb27OKIqoPH4g.b['2'][4]++,msg.user)||(__cov_6bOdnrcR_kb27OKIqoPH4g.b['2'][5]++,msg.join)){__cov_6bOdnrcR_kb27OKIqoPH4g.b['1'][0]++;__cov_6bOdnrcR_kb27OKIqoPH4g.s['11']++;return true;}else{__cov_6bOdnrcR_kb27OKIqoPH4g.b['1'][1]++;}__cov_6bOdnrcR_kb27OKIqoPH4g.s['12']++;return false;},fromObjectToList:function(object){__cov_6bOdnrcR_kb27OKIqoPH4g.f['10']++;__cov_6bOdnrcR_kb27OKIqoPH4g.s['13']++;var list=undefined,list_b=object;__cov_6bOdnrcR_kb27OKIqoPH4g.s['14']++;var proprietor=this.fromObjectToUser(list_b.proprietor);__cov_6bOdnrcR_kb27OKIqoPH4g.s['15']++;list=new List(list_b.name,proprietor);__cov_6bOdnrcR_kb27OKIqoPH4g.s['16']++;list.id=list_b.id;__cov_6bOdnrcR_kb27OKIqoPH4g.s['17']++;list.isBeingEdited=list_b.isBeingEdited;__cov_6bOdnrcR_kb27OKIqoPH4g.s['18']++;for(var i=0;i<list_b.sharedWith.length;i++){__cov_6bOdnrcR_kb27OKIqoPH4g.s['19']++;var u=this.fromObjectToUser(list_b.sharedWith[i]);__cov_6bOdnrcR_kb27OKIqoPH4g.s['20']++;list.addUser(u);__cov_6bOdnrcR_kb27OKIqoPH4g.s['21']++;Tools.users.addUser(u);}__cov_6bOdnrcR_kb27OKIqoPH4g.s['22']++;for(var i=0;i<list_b.products.length;i++){__cov_6bOdnrcR_kb27OKIqoPH4g.s['23']++;var u=list_b.products[i];__cov_6bOdnrcR_kb27OKIqoPH4g.s['24']++;list.addProduct(u);}__cov_6bOdnrcR_kb27OKIqoPH4g.s['25']++;list.description=list_b.description;__cov_6bOdnrcR_kb27OKIqoPH4g.s['26']++;list.notAlone=list_b.notAlone;__cov_6bOdnrcR_kb27OKIqoPH4g.s['27']++;return list;},fromObjectToUser:function(object){__cov_6bOdnrcR_kb27OKIqoPH4g.f['11']++;__cov_6bOdnrcR_kb27OKIqoPH4g.s['28']++;var u=new User(object.name,object.socketId);__cov_6bOdnrcR_kb27OKIqoPH4g.s['29']++;u.setColor(object.color);__cov_6bOdnrcR_kb27OKIqoPH4g.s['30']++;u.id=object.id;__cov_6bOdnrcR_kb27OKIqoPH4g.s['31']++;return u;},getProfuctsFromURL:function(URL){__cov_6bOdnrcR_kb27OKIqoPH4g.f['12']++;}};
